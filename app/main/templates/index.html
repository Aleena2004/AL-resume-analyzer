{% extends "base.html" %}
{% block content %}
<div class="container">
    <h1>Upload Your Resume</h1>
    <form method="POST" enctype="multipart/form-data">
        {{ form.hidden_tag() }}
        <div class="form-group">
            {{ form.resume.label(class="form-control-label") }}
            {{ form.resume(class="form-control", accept=".pdf,.doc,.docx") }}
        </div>
        <div class="form-group">
            {{ form.job_title.label(class="form-control-label") }}
            {{ form.job_title(class="form-control") }}
        </div>
        <div class="form-group">
            {{ form.job_description.label(class="form-control-label") }}
            {{ form.job_description(class="form-control") }}
        </div>
        <div class="form-group">
            {{ form.job_responsibilities.label(class="form-control-label") }}
            {{ form.job_responsibilities(class="form-control") }}
        </div>
        <div class="form-group">
            {{ form.job_experience.label(class="form-control-label") }}
            {{ form.job_experience(class="form-control") }}
        </div>
        <div class="form-group">
            {{ form.job_skills.label(class="form-control-label") }}
            {{ form.job_skills(class="form-control") }}
        </div>
        <div class="form-group">
            {{ form.job_education.label(class="form-control-label") }}
            {{ form.job_education(class="form-control") }}
        </div>
        <div class="form-group">
            {{ form.submit(class="btn btn-primary") }}
        </div>
    </form>

    {% if results %}
    <div class="results-container mt-6">
        <div class="result-card bg-green-100 text-green-800 p-4 rounded-lg mb-2">
            <strong>Overall Resume Score: {{ results.total_score }}%</strong>
        </div>
        <div class="result-card bg-blue-100 text-blue-800 p-4 rounded-lg mb-2">
            <strong>Details:</strong>
        </div>
        <div class="result-card bg-blue-100 text-blue-800 p-4 rounded-lg mb-2">
            Resume Structure: {{ results.structure_score }}%
        </div>
        <div class="result-card bg-blue-100 text-blue-800 p-4 rounded-lg mb-2">
            Skills Match: {{ results.skills_score }}%
        </div>
        <div class="result-card bg-blue-100 text-blue-800 p-4 rounded-lg mb-2">
            Experience Match: {{ results.experience_score }}%
        </div>
        <div class="result-card bg-blue-100 text-blue-800 p-4 rounded-lg mb-2">
            Education Match: {{ results.education_score }}%
        </div>
        <div class="result-card bg-yellow-100 text-yellow-800 p-4 rounded-lg">
            <strong>Issues:</strong>
            <ul class="list-disc pl-5 mt-2">
                {% for issue in results.feedback %}
                <li>{{ issue }}</li>
                {% endfor %}
            </ul>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}